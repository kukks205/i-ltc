<div class="panel" ng-controller="depressionController">
    <div class="panel-header">
        <h4>ข้อมูลผู้สูงอายุที่ได้รับการคัดกรองภาวะซึมเศร้า ในจังหวัดอุทัยธานี จำแนกตามอำเภอ</h4>
        <p class="description">
            ประมวลผลล่าสุดเมื่อ {{data[0]['last_calc']}}
        </p>
    </div>  
    <div class="panel-content">
        <table id="example" class="table striped hovered">
            <thead>
                <tr>
                    <th rowspan="3" valign="top">อำเภอ</th>
                    <th rowspan="3">ผู้สุงอายุเฉพาะอยู่จริง(คน)</th>
                    <th rowspan="3">ได้รับการคัดกรอง(คน)</th>
                    <th rowspan="3">%</th>
                    <th colspan="4">ผลการคัดกรอง</th>
                    <th colspan="6">แบ่งตามระดับภาวะซึมเศร้า</th>
                </tr>
                <tr>
                    <th colspan="2">ปกติ</th>
                    <th colspan="2">ซึมเศร้า</th>
                    <th colspan="2">Mild Depression</th>
                    <th colspan="2">Moderate Depression</th>
                    <th colspan="2">Severe   Depression</th>
                </tr>
                <tr>
                    <th>จำนวน</th>
                    <th>%</th>
                    <th>จำนวน</th>
                    <th>%</th>
                    <th>จำนวน</th>
                    <th>%</th>
                    <th>จำนวน</th>
                    <th>%</th>
                    <th>จำนวน</th>
                    <th>%</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="o in data">
                    <td>
                        <div ng-if="o.amp == 0" >{{o.Amphur_name}}</div>
                        <div ng-if="o.amp > 0">
                            <a ng-href="#/depress_older_d/{{o.amp}}">{{o.Amphur_name}}</a>
                        </div>

                    </td>
                    <td align="center">{{o.old|number}}</td>
                    <td align="center">{{o.sc|number}}</td>
                    <td align="center">{{(o.sc * 100)/o.old|number:2}}</td>
                    <td align="center">{{o.nr|number}}</td>
                    <td align="center">{{(o.nr * 100)/o.sc| number:2 }}</td>
                    <td align="center">{{o.r|number}}</td>
                    <td align="center">{{(o.r * 100)/o.sc| number:2 }}</td>
                    <td align="center">
                        <div ng-if="o.m < 1">0</div>
                        <div ng-if="o.m > 0">{{o.m|number}}</div>                        
                    </td>
                    <td align="center">{{(o.m * 100)/o.r| number:2 }}</td>
                    <td align="center">
                        <div ng-if="o.mo < 1">0</div>
                        <div ng-if="o.mo > 0">{{o.mo|number}}</div>                        
                    </td>
                    <td align="center">{{(o.mo * 100)/o.r| number:2 }}</td>
                    <td align="center">
                        <div ng-if="o.se < 1">0</div>
                        <div ng-if="o.se > 0">{{o.se|number}}</div>
                    </td>
                    <td align="center">
                        {{(o.se * 100)/o.r| number:2 }}

                    </td>
                </tr>
            </tbody>
        </table>
        <div ng-hide="dataloaded == true" align='center'>
            <i class="ion-loading-c" style="font-size: 32px;"></i>กำลังประมวลผล...
        </div>
    </div>
</div>
